

try_pkg(){
    # TODO: clear up environment

    local name="${1:?Provide name}"
    local version="${2:?Provide version}"

    (
        x pkg install "$name" "$version"
        x pkg activate "$name"

        x pkg _smoke "$name"
    )
}

smoke(){
    local IFS=" "
    local name; local version
    while read -r name version; do
        try_pkg "$name" "$version"
    done <<A
jq 1.6-dirty
yq 4.15.1
fd v8.3.2
rg 13.0.0
ffmpeg N-105323-gdd17c86aa1-tessus
A

}

smoke
